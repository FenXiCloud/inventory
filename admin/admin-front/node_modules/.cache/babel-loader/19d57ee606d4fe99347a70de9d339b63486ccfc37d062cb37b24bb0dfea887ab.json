{"ast":null,"code":"import { createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"app-header\",\n  style: {\n    \"position\": \"absolute\",\n    \"bottom\": \"20px\",\n    \"left\": \"0\",\n    \"right\": \"0\"\n  }\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"app-header-info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_DropdownMenu = _resolveComponent(\"DropdownMenu\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [$options.user ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, [_cache[0] || (_cache[0] = _createElementVNode(\"span\", {\n    class: \"h-icon-user mr-10px\"\n  }, null, -1 /* HOISTED */)), _createVNode(_component_DropdownMenu, {\n    className: \"app-header-dropdown\",\n    trigger: \"hover\",\n    offset: \"5,5\",\n    width: 150,\n    placement: \"bottom-end\",\n    datas: $data.infoMenu,\n    onClickItem: $options.trigger\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"span\", null, _toDisplayString($options.user.name), 1 /* TEXT */)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"datas\", \"onClickItem\"])])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","style","key","_createElementBlock","_hoisted_1","$options","user","_hoisted_2","_createElementVNode","_createVNode","_component_DropdownMenu","className","trigger","offset","width","placement","datas","$data","infoMenu","onClickItem","default","_withCtx","_toDisplayString","name","_","_createCommentVNode"],"sources":["D:\\DevWorks\\jxc\\admin\\admin-front\\src\\components\\app\\AppHead.vue"],"sourcesContent":["<template>\r\n  <div class=\"app-header\" style=\"position: absolute;bottom: 20px;left: 0;right: 0\">\r\n    <div class=\"app-header-info\" v-if=\"user\">\r\n      <span class=\"h-icon-user mr-10px\"></span>\r\n      <DropdownMenu\r\n          className=\"app-header-dropdown\"\r\n          trigger=\"hover\"\r\n          offset=\"5,5\"\r\n          :width=\"150\"\r\n          placement=\"bottom-end\"\r\n          :datas=\"infoMenu\"\r\n          @clickItem=\"trigger\"\r\n      >\r\n        <span>{{ user.name }}</span>\r\n      </DropdownMenu>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n/**\r\n * @功能描述: header\r\n * @创建时间: 2023年08月08日\r\n * @公司官网: www.fenxi365.com\r\n * @公司信息: 纷析云（杭州）科技有限公司\r\n * @公司介绍: 专注于财务相关软件开发, 企业会计自动化解决方案\r\n */\r\nimport {onMounted, onUnmounted} from 'vue';\r\nimport {loading, confirm} from \"heyui.ext\";\r\nimport {Logout} from \"@js/api/App\";\r\n\r\nexport default {\r\n  name: \"AppHead\",\r\n  data() {\r\n    return {\r\n      searchText: '',\r\n      infoMenu: [\r\n        {key: 'info', title: '个人信息', icon: 'h-icon-user'},\r\n        {key: 'logout', title: '退出登录', icon: 'h-icon-outbox'}\r\n      ]\r\n    };\r\n  },\r\n  computed: {\r\n    user() {\r\n      return this.$store.state.user;\r\n    },\r\n    siderCollapsed: {\r\n      get() {\r\n        return this.$store.state.siderCollapsed;\r\n      },\r\n      set(value) {\r\n        this.$store.commit('updateSiderCollapse', value);\r\n      }\r\n    }\r\n  },\r\n  setup(props, context) {\r\n    let resizeEvent = null;\r\n    onMounted(() => {\r\n      let windowWidth = window.innerWidth;\r\n      resizeEvent = window.addEventListener('resize', () => {\r\n        if (windowWidth == window.innerWidth) {\r\n          return;\r\n        }\r\n        if (context.siderCollapsed && window.innerWidth > 900) {\r\n          context.siderCollapsed = false;\r\n        } else if (!context.siderCollapsed && window.innerWidth < 900) {\r\n          context.siderCollapsed = true;\r\n        }\r\n        windowWidth = window.innerWidth;\r\n      });\r\n      window.dispatchEvent(new Event('resize'));\r\n    });\r\n    onUnmounted(() => {\r\n      window.removeEventListener('resize', resizeEvent);\r\n    });\r\n  },\r\n  methods: {\r\n    trigger(data) {\r\n      if (data === 'logout') {\r\n        confirm({\r\n          title: \"系统提示\",\r\n          content: '确认退出？',\r\n          onConfirm: () => {\r\n            loading(\"登出中....\");\r\n            Logout().then(() => {\r\n              localStorage.removeItem(\"SYS_TABS\");\r\n              this.$router.replace({name: 'Login'});\r\n            }).finally(() => loading.close())\r\n          }\r\n        });\r\n      } else {\r\n        this.$router.push({name: 'AccountBasic'});\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.app-header {\r\n  color: #fff;\r\n  margin-top: 20px;\r\n  text-align: center;\r\n\r\n}\r\n</style>\r\n"],"mappings":";;EACOA,KAAK,EAAC,YAAY;EAACC,KAAwD,EAAxD;IAAA;IAAA;IAAA;IAAA;EAAA;;;EAD1BC,GAAA;EAESF,KAAK,EAAC;;;;uBADbG,mBAAA,CAeM,OAfNC,UAeM,GAd+BC,QAAA,CAAAC,IAAI,I,cAAvCH,mBAAA,CAaM,OAbNI,UAaM,G,0BAZJC,mBAAA,CAAyC;IAAnCR,KAAK,EAAC;EAAqB,6BACjCS,YAAA,CAUeC,uBAAA;IATXC,SAAS,EAAC,qBAAqB;IAC/BC,OAAO,EAAC,OAAO;IACfC,MAAM,EAAC,KAAK;IACXC,KAAK,EAAE,GAAG;IACXC,SAAS,EAAC,YAAY;IACrBC,KAAK,EAAEC,KAAA,CAAAC,QAAQ;IACfC,WAAS,EAAEd,QAAA,CAAAO;;IAXtBQ,OAAA,EAAAC,QAAA,CAaQ,MAA4B,CAA5Bb,mBAAA,CAA4B,cAAAc,gBAAA,CAAnBjB,QAAA,CAAAC,IAAI,CAACiB,IAAI,iB;IAb1BC,CAAA;mDAAAC,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}