import{openBlock as s,createElementBlock as l,normalizeClass as r,normalizeStyle as c,createElementVNode as n,renderSlot as h}from"vue";import{_ as p}from"./_plugin-vue_export-helper.js";const i="h-backtop",m={name:"HBackTop",emits:["backTop"],props:{target:{type:Function,default:()=>window.document},bottom:{type:Number,default:50},right:{type:Number,default:50},className:{type:String,default:"h-backtop-default"}},data(){return{show:!1,timeout:null}},computed:{backtopCls(){return{[`${i}`]:!0,[`${i}-show`]:this.show,[this.className]:!!this.className}},backtopStyle(){return{bottom:`${this.bottom}px`,right:`${this.right}px`}}},watch:{show(){this.$el.style.display="block"}},mounted(){this.$nextTick(()=>{let t=this.target();t&&t.addEventListener("scroll",()=>{t.scrollTop>300?this.show=!0:this.show=!1}),this.$el.addEventListener("webkitAnimationEnd",()=>{this.$el.style.display=this.show?"block":"none"})})},methods:{backtop(){if(this.timeout)return;let t=this.target();t&&this.scrollTop(t,(t.scrollHeight-t.offsetHeight)/10),this.$emit("backTop")},scrollTop(t,e){this.timeout=setTimeout(()=>{t.scrollTop>e?(t.scrollTop-=e,this.scrollTop(t,e*.9)):(t.scrollTop=0,this.timeout=null)},5)}}},u={key:0,class:"h-icon-top"};function d(t,e,f,k,b,o){return s(),l("div",{class:r(o.backtopCls),style:c(o.backtopStyle)},[n("div",{class:"h-backtop-inner",onClick:e[0]||(e[0]=(...a)=>o.backtop&&o.backtop(...a))},[t.$slots.default?h(t.$slots,"default",{key:1}):(s(),l("i",u))])],6)}const w=p(m,[["render",d]]);export{w as B};
