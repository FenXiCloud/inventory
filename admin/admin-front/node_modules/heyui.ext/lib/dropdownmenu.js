import a from"./utils/config.js";import{D as C}from"./dropdowncustom.js";import{B as b}from"./badge.js";import{resolveComponent as u,openBlock as l,createBlock as m,normalizeClass as s,withCtx as c,createElementVNode as h,normalizeStyle as k,createElementBlock as r,Fragment as N,renderList as S,createCommentVNode as f,toDisplayString as _,renderSlot as B}from"vue";import{_ as D}from"./_plugin-vue_export-helper.js";const w="h-dropdownmenu",x={name:"HDropdownMenu",components:{Badge:b,DropdownCustom:C},emits:["show","hide","clickItem"],props:{dict:String,datas:[Array,Object],trigger:{type:String,default:"click"},equalWidth:{type:Boolean,default:!1},width:Number,toggleIcon:{type:Boolean,default:!0},placement:{type:String,default:"bottom-start"},showCount:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},maxCount:{type:Number,default:99},delay:{type:Number,default:0},className:{type:String,default:"h-dropdownmenu-default"},keyName:{type:String,default:()=>a.getOption("dict","keyName")},titleName:{type:String,default:()=>a.getOption("dict","titleName")},offset:[String,Number],button:{type:Boolean,default:!1}},data(){return{key:this.keyName,title:this.titleName,html:"dropdownmenuHtml",isShow:!1,el:null}},computed:{dropdownmenuCls(){return{[`${w}`]:!0}},groupStyle(){let e={};return this.width&&(e.width=`${this.width}px`),e},showCls(){return{[`${w}-show`]:!0,"h-dropdownmenu-empty":!this.$slots.default}},groupCls(){return{[`${this.className}-dropdown`]:!!this.className,"h-dropdownmenu-group":!0}},options(){if(!this.datas&&!this.dict)return console.error("[HeyUI Error] Dropdownmenu Component: Datas or dict parameters need to be defined at least."),[];let e=this.datas;return this.dict&&(e=a.getDict(this.dict)),e=a.initOptions(e,this),e}},mounted(){},beforeUnmount(){},methods:{click(e,d){d.disabled||(this.$emit("clickItem",d[this.key],d,e),this.$refs.dropdown.hide())},showEvent(e){this.$emit("show",e)},hideEvent(e){this.$emit("hide",e)}}},v=["onClick"];function E(e,d,t,H,i,o){const g=u("Badge"),y=u("DropdownCustom");return l(),m(y,{ref:"dropdown",button:t.button,delay:t.delay,class:s(o.dropdownmenuCls),trigger:t.trigger,"equal-width":t.equalWidth,"toggle-icon":t.toggleIcon,placement:t.placement,disabled:t.disabled,"class-name":t.className,offset:t.offset,"show-class":o.showCls,onShow:o.showEvent,onHide:o.hideEvent},{content:c(()=>[h("ul",{class:s(o.groupCls),style:k(o.groupStyle)},[(l(!0),r(N,null,S(o.options,n=>(l(),r("li",{key:n[i.key],class:s(["h-dropdownmenu-item",{"h-dropdownmenu-item-divider":!!n.divider,disabled:!!n.divider||n.disabled}]),onClick:p=>o.click(p,n)},[n.icon?(l(),r("i",{key:0,class:s(n.icon)},null,2)):f("",!0),h("span",null,_(n[i.title]),1),t.showCount&&n.count?(l(),m(g,{key:1,count:n.count,"max-count":t.maxCount,position:"right"},null,8,["count","max-count"])):f("",!0)],10,v))),128))],6)]),default:c(()=>[B(e.$slots,"default")]),_:3},8,["button","delay","class","trigger","equal-width","toggle-icon","placement","disabled","class-name","offset","show-class","onShow","onHide"])}const U=D(x,[["render",E]]);export{U as D};
