import{u as f}from"./utils.js";import{openBlock as s,createElementBlock as i,normalizeClass as m,normalizeStyle as u,createCommentVNode as o,toDisplayString as d,renderSlot as h,createElementVNode as p}from"vue";import{_ as c}from"./_plugin-vue_export-helper.js";const t="h-form-item",b={name:"HFormItem",inject:["validField","removeProp","requireds","setConfig","updateProp","updateErrorMessage","labelWidth","params"],props:{label:String,prop:String,icon:String,required:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},showLabel:{type:Boolean,default:!0},single:{type:Boolean,default:!1},validable:{type:Boolean,default:!0},noPadding:{type:Boolean,default:!1}},data(){return{validResult:null,errorMessage:{valid:!0}}},computed:{configRequired(){if(!this.prop)return!1;const e=this.prop.replace(/\[\w+\]/,"[]");return this.requireds.indexOf(this.prop)>-1||this.requireds.indexOf(e)>-1},initLabelWidth(){let e=this.params.mode,r=(!(e=="block"||e=="inline")||this.single&&e=="twocolumn")&&this.labelWidth||!1;return r?`${r}px`:"auto"},formItemCls(){return{[`${t}`]:!0,[`${t}-single`]:this.single,[`${t}-readonly`]:!!this.readonly,[`${t}-required`]:this.required||this.configRequired,[`${t}-valid-error`]:!this.errorMessage.valid,[`${t}-no-padding`]:!!this.noPadding}},labelCls(){return{[`${t}-label`]:!0}},labelStyleCls(){let e={};return this.params.mode!="block"?e.width=this.initLabelWidth:e.width="100%",e},contentStyleCls(){let e={};return this.params.mode=="block"||!this.showLabel?e["margin-left"]="0px":e["margin-left"]=this.initLabelWidth,e}},watch:{prop(e,a){this.prop&&(this.errorMessage=this.updateProp(e,a))},label(){this.prop&&(this.errorMessage=this.updateErrorMessage(this.prop,this.label))},required(){this.setConfig(this.prop,{required:this.required})}},beforeUnmount(){this.prop&&this.required&&this.removeProp(this.prop)},mounted(){this.prop&&(this.required&&this.setConfig(this.prop,{required:this.required}),this.errorMessage=this.updateErrorMessage(this.prop,this.label))},methods:{reset(){console.warn("[HeyUI WARNING] FormItem Component:  FormItem.reset() will be decapitated, please use method FormItem.resetValid()"),this.errorMessage.valid=!0},resetValid(){this.errorMessage.valid=!0},trigger(){let e=this.prop;!this.validable||f.isNull(e)||this.validField(e)}}},g=["prop","validable"],y={key:1},v={class:"h-form-item-wrap"},_={key:0,class:"h-form-item-error"},q={key:0,class:"h-form-item-error-label"},C={class:"h-form-item-error-message"};function M(e,a,r,w,l,n){return s(),i("div",{class:m(n.formItemCls),prop:r.prop,validable:r.validable},[r.showLabel?(s(),i("label",{key:0,style:u(n.labelStyleCls),class:"h-form-item-label"},[r.icon?(s(),i("i",{key:0,class:m({[r.icon]:!0,"h-form-item-label-icon":!0})},null,2)):o("",!0),e.$slots.label?h(e.$slots,"label",{key:2,label:r.label}):(s(),i("span",y,d(r.label),1))],4)):o("",!0),p("div",{class:"h-form-item-content",style:u(n.contentStyleCls)},[p("div",v,[h(e.$slots,"default")]),l.errorMessage.valid?o("",!0):(s(),i("div",_,[l.errorMessage.type=="base"?(s(),i("span",q,d(r.label),1)):o("",!0),p("span",C,d(l.errorMessage.message),1),h(e.$slots,"error",{type:l.errorMessage.type})]))],4)],10,g)}const B=c(b,[["render",M]]);export{B as F};
