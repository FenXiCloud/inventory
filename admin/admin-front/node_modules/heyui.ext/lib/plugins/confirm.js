import g from"./notify.js";import{u as x}from"../utils.js";import t from"../locale.js";import"./draggable.js";import"../locale/lang/zh-CN.js";import"../locale/lang/en-US.js";import"../utils/format.js";const i="h-modal";let s={middle:!1};function v(e={}){const{content:n,title:m,cancelText:f,okText:a,onConfirm:c=()=>{},onCancel:d=()=>{},async:h=!1}=e;let p={type:i,content:`<div style="display: flex"><i class="h-icon-warn yellow-color" style="font-size:28px;vertical-align: -8px;margin-right: 8px"></i><div>${n}</div></div>`,buttons:[{name:f||t.hlang("h.common.cancel"),type:"cancel"},{type:"ok",name:a||t.hlang("h.common.confirm"),style:"primary"}],events:{ok:o=>{if(h){let r=o.$container.querySelector(`.${i}-footer>button[attr=cancel]`),l=o.$container.querySelector(`.${i}-footer>button[attr=ok]`);r.classList.add("h-btn-loading"),l.classList.add("h-btn-loading"),l.innerHTML=`<i class="h-icon-loading"></i> ${a||t.hlang("h.common.confirm")}`,c(y=>{y&&o.close(),r.classList.remove("h-btn-loading"),l.classList.remove("h-btn-loading"),l.innerText=a||t.hlang("h.common.confirm")})}else o.close(),c()},cancel:o=>{o.close(),d()}},title:m,className:"h-modal-comfirm h-modal-type-default",hasMask:!0,closeOnMask:!1,hasCloseIcon:!1,timeout:0};const u=x.extend({},s,p,!0);return g(u)}function b(e,n){return n||(n=t.hlang("h.confirm.title")),v(e)}b.config=e=>{e.middle&&(s.middle=!0)};export{b as default};
