class o{constructor(t,e={}){this.isDragging=!1,this.options=e,this.element=t,this.element&&this.init(),this.moveFn=n=>{this.move(n)},this.upFn=n=>{this.up(n)},this.clickFn=n=>{this.click(n)}}init(){this.element.addEventListener("mousedown",e=>{this.mousedown(e)}),this.options.container&&this.options.container.addEventListener("mousedown",e=>{this.mousedown(e)})}mousedown(t){this.isDragging||(document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.body.addEventListener("mousemove",this.moveFn),document.body.addEventListener("mouseup",this.upFn),document.body.addEventListener("click",this.clickFn),this.isDragging=!0,this.options.start&&this.options.start(t))}move(t){this.options.drag&&this.options.drag(t)}click(t){t.stopPropagation(),t.preventDefault()}up(t){document.body.removeEventListener("mousemove",this.moveFn),document.body.removeEventListener("mouseup",this.upFn),setTimeout(()=>{document.body.removeEventListener("click",this.clickFn)},200),document.onselectstart=null,document.ondragstart=null,this.isDragging=!1,this.options.end&&this.options.end(t)}destroy(){document.removeEventListener("mousemove",this.moveFn),document.removeEventListener("mouseup",this.upFn),document.removeEventListener("click",this.clickFn),document.onselectstart=null,document.ondragstart=null}}export{o as default};
