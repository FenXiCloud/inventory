import m from"./mixins/locale.js";import{openBlock as r,createElementBlock as h,normalizeClass as d,normalizeStyle as a,createCommentVNode as c,createElementVNode as o,withDirectives as p,withKeys as y,vModelText as g,renderSlot as V,Fragment as f,createTextVNode as S,toDisplayString as w}from"vue";import{_ as B}from"./_plugin-vue_export-helper.js";const u="h-search",k={name:"HSearch",mixins:[m],emits:["change","search","update:modelValue"],props:{position:{type:String,default:"end"},placeholder:{type:String},block:{type:Boolean,default:!1},triggerType:{type:String,default:"enter"},modelValue:String,showSearchButton:{type:Boolean,default:!1},searchButtonText:{type:String},searchButtonTheme:{type:String,default:"h-btn-primary"},height:Number,width:Number},data(){return{inputValue:this.modelValue}},computed:{searchButtonTextShow(){return this.searchButtonText||this.hlang("h.search.searchButtonText")},widthStyles(){let t={};return this.width&&(t.width=`${this.width}px`),t},heightStyles(){let t={};return this.height&&(t.height=`${this.height}px`),t},cls(){return{[`${u}`]:!0,[`${u}-block`]:this.block,[`${u}-searching`]:this.modelValue!==""&&this.modelValue!==null&&this.modelValue!==void 0,[`${u}-has-button`]:this.showSearchButton,[`${u}-${this.position}`]:!0}}},watch:{modelValue(){this.inputValue=this.modelValue}},methods:{search(t){const e=t==null?"":t;this.inputValue=e,this.$emit("update:modelValue",e),this.$emit("search",e.trim()),this.$emit("change",e.trim())},inputTrigger(t){this.triggerType=="input"?this.search(t):this.$emit("update:modelValue",t)}}},x={key:0,class:"h-icon-search"},T={class:"h-search-container"},b={class:"h-search-input"},v=["placeholder"];function C(t,e,n,N,s,i){return r(),h("div",{class:d(i.cls),style:a(i.widthStyles)},[n.position=="front"?(r(),h("i",x)):c("",!0),o("div",T,[o("div",b,[p(o("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>s.inputValue=l),type:"text",class:"h-input",style:a(i.heightStyles),placeholder:n.placeholder,onInput:e[1]||(e[1]=l=>i.inputTrigger(s.inputValue)),onKeyup:e[2]||(e[2]=y(l=>i.search(s.inputValue),["enter"]))},null,44,v),[[g,s.inputValue]]),o("i",{class:"h-icon-close",onClick:e[3]||(e[3]=l=>i.search(""))})]),n.showSearchButton?(r(),h("button",{key:0,type:"button",style:a(i.heightStyles),class:d(`h-btn ${n.searchButtonTheme}`),onClick:e[4]||(e[4]=l=>i.search(s.inputValue))},[t.$slots.default?V(t.$slots,"default",{key:0}):(r(),h(f,{key:1},[S(w(i.searchButtonTextShow),1)],64))],6)):c("",!0)]),n.position=="end"?(r(),h("i",{key:1,class:"h-icon-search h-icon-search-end",onClick:e[5]||(e[5]=l=>i.search(s.inputValue))})):c("",!0)],6)}const D=B(k,[["render",C]]);export{D as S};
