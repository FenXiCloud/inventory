{"ast":null,"code":"import { Login } from \"@js/api/App\";\nimport { message } from \"heyui.ext\";\nexport default {\n  name: \"Login\",\n  data() {\n    return {\n      loading: false,\n      account: null,\n      selected: null,\n      form: {\n        username: null,\n        password: null\n      },\n      rules: {\n        required: ['username', 'password']\n      }\n    };\n  },\n  methods: {\n    submitForm() {\n      let validResult = this.$refs.loginForm.valid();\n      if (validResult.result) {\n        this.loading = true;\n        Login(this.form).then(({\n          success,\n          data: {\n            account\n          }\n        }) => {\n          console.log(\"=====登录成功了\" + success + account);\n          if (success) {\n            message(\"登录成功~\");\n            localStorage.setItem(\"m_cache_username\", this.form.username);\n            window.location.replace(\"/\");\n          }\n        }).finally(() => {\n          this.loading = false;\n        });\n      }\n    }\n  },\n  created() {\n    let username = localStorage.getItem(\"m_cache_username\");\n    if (username) {\n      this.form.username = username;\n    }\n  }\n};","map":{"version":3,"names":["Login","message","name","data","loading","account","selected","form","username","password","rules","required","methods","submitForm","validResult","$refs","loginForm","valid","result","then","success","console","log","localStorage","setItem","window","location","replace","finally","created","getItem"],"sources":["D:\\DevWorks\\jxc\\merchant\\merchant-front\\src\\Login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login\">\r\n    <div class=\"body-wrapper\">\r\n      <div class=\"login-header\">\r\n        <div class=\"login-logo\"></div>&nbsp;\r\n        <div class=\"login-title\">纷析云进销存管理系统\r\n          <div class=\"login-title-bot\">FinXi MART Management System</div>\r\n        </div>\r\n      </div>\r\n      <div class=\"section login-bg\">\r\n        <div class=\"login-form\">\r\n          <Form ref=\"loginForm\" :model=\"form\"  :labelWidth=\"70\" :rules=\"rules\">\r\n            <div class=\"wel\"> &nbsp;<span></span>\r\n            </div>\r\n            <FormItem>\r\n              <template v-slot:label>\r\n                <span class=\"white-color\">账 号:</span>\r\n              </template>\r\n              <Input type=\"text\" style=\"border-radius: 3px;\" v-model=\"form.username\" autocomplete=\"off\" placeholder=\"请输入登录账号\"/>\r\n            </FormItem>\r\n            <FormItem >\r\n              <template v-slot:label>\r\n                <span class=\"white-color\">密 码:</span>\r\n              </template>\r\n              <Input type=\"password\" style=\"border-radius: 3px;\"  v-model=\"form.password\" autocomplete=\"off\" @keyup.enter=\"submitForm\" placeholder=\"请输入密码\"/>\r\n            </FormItem>\r\n            <FormItem >\r\n              <Button :loading=\"loading\" class=\"login-form-btn\" color=\"primary\" @click=\"submitForm\">登 录</Button>\r\n            </FormItem>\r\n          </Form>\r\n        </div>\r\n      </div>\r\n      <div class=\"login-footer\">\r\n        <p>开启智慧之旅，获取虚拟学习的无尽宝库.</p>\r\n        <p>Start a journey of wisdom and gain an endless treasure trove of virtual learning.</p>\r\n      </div>\r\n    </div>\r\n    <div class=\"footerWrap\">\r\n      <div class=\"copyright\">\r\n        <span>Copyright © 2014-2024, 纷析云（杭州）科技有限公司</span>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport {Login} from \"@js/api/App\";\r\nimport {message} from \"heyui.ext\";\r\n\r\nexport default {\r\n  name: \"Login\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      account: null,\r\n      selected: null,\r\n      form: {\r\n        username: null,\r\n        password: null\r\n      },\r\n      rules: {\r\n        required: ['username', 'password']\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    submitForm() {\r\n      let validResult = this.$refs.loginForm.valid();\r\n      if (validResult.result) {\r\n        this.loading = true;\r\n        Login(this.form).then(({success, data: {account}}) => {\r\n          console.log(\"=====登录成功了\"+success+account)\r\n          if (success) {\r\n            message(\"登录成功~\");\r\n            localStorage.setItem(\"m_cache_username\", this.form.username)\r\n            window.location.replace(\"/\");\r\n          }\r\n        }).finally(() => {\r\n          this.loading = false;\r\n        });\r\n      }\r\n    },\r\n  },\r\n  created() {\r\n    let username = localStorage.getItem(\"m_cache_username\");\r\n    if (username) {\r\n      this.form.username = username;\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n.login {\r\n  display: flex;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  background: white;\r\n}\r\n\r\n.body-wrapper {\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 900px;\r\n  height: 560px;\r\n  margin-left: -450px;\r\n  margin-top: -300px;\r\n\r\n  .wel {\r\n    font-size: 24px;\r\n    color: #fff;\r\n    font-weight: normal;\r\n    margin: 60px 0 50px;\r\n    line-height: 1;\r\n  }\r\n\r\n  .lineD {\r\n    float: right;\r\n    width: 180px;\r\n    height: 1px;\r\n    background: #96aecc;\r\n    margin-top: 20px;\r\n  }\r\n\r\n  .login-header {\r\n    display: flex;\r\n    word-wrap: break-word;\r\n    overflow: hidden;\r\n    width: 100%;\r\n    margin-bottom: 30px;\r\n    text-align: left;\r\n\r\n    .login-logo {\r\n      width: 110px;\r\n      height: 38px;\r\n      background: url(@/assets/logo_login.png) no-repeat;\r\n      background-size: 99%;\r\n      padding-right: 12px;\r\n\r\n    }\r\n\r\n    .login-title {\r\n      font-size: 20px;\r\n      color: #5a5a5a;\r\n      padding-left: 8px;\r\n      line-height: 1.2;\r\n      letter-spacing: 0.5px;\r\n      font-weight: bold;\r\n      border-left: 1px solid #bebebe;\r\n      color: #5a5a5a;\r\n    }\r\n\r\n    .login-title-bot {\r\n      display: block;\r\n      font-size: 12px;\r\n      color: #5a5a5a;\r\n      line-height: 1.6;\r\n      letter-spacing: 0;\r\n      font-weight: normal;\r\n    }\r\n  }\r\n\r\n\r\n  .login-bg {\r\n    width: 900px;\r\n    height: 398px;\r\n    background: url(@/assets/login-bg.jpg) no-repeat;\r\n    border-radius: 3px;\r\n  }\r\n\r\n  .login-form {\r\n    float: right;\r\n    width: 320px;\r\n    height: 398px;\r\n    background: #a7bcde;\r\n    padding: 0 30px;\r\n    .login-form-btn{\r\n      width: 100%;\r\n      background-color: #3d74ff;\r\n      border-radius: 3px;\r\n    }\r\n  }\r\n\r\n  .login-footer {\r\n    text-align: right;\r\n    padding-top: 40px;\r\n\r\n    p {\r\n      font-size: 13px;\r\n      color: #3d74ff;\r\n      line-height: 1.6;\r\n      margin: 0;\r\n    }\r\n  }\r\n}\r\n\r\n.footerWrap {\r\n  position: fixed;\r\n  bottom: 0;\r\n  width: 100%;\r\n  height: 70px;\r\n  background: #3d74ff;\r\n  padding-top: 20px;\r\n\r\n  .copyright {\r\n    width: 900px;\r\n    margin: 0 auto;\r\n\r\n    span {\r\n      font-size: 12px;\r\n      color: #fff;\r\n      padding-left: 10px;\r\n      opacity: .8;\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AA+CA,SAAQA,KAAK,QAAO,aAAa;AACjC,SAAQC,OAAO,QAAO,WAAW;AAEjC,eAAe;EACbC,IAAI,EAAE,OAAO;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE,KAAK;MACdC,OAAO,EAAE,IAAI;MACbC,QAAQ,EAAE,IAAI;MACdC,IAAI,EAAE;QACJC,QAAQ,EAAE,IAAI;QACdC,QAAQ,EAAE;MACZ,CAAC;MACDC,KAAK,EAAE;QACLC,QAAQ,EAAE,CAAC,UAAU,EAAE,UAAU;MACnC;IACF;EACF,CAAC;EAEDC,OAAO,EAAE;IACPC,UAAUA,CAAA,EAAG;MACX,IAAIC,WAAU,GAAI,IAAI,CAACC,KAAK,CAACC,SAAS,CAACC,KAAK,CAAC,CAAC;MAC9C,IAAIH,WAAW,CAACI,MAAM,EAAE;QACtB,IAAI,CAACd,OAAM,GAAI,IAAI;QACnBJ,KAAK,CAAC,IAAI,CAACO,IAAI,CAAC,CAACY,IAAI,CAAC,CAAC;UAACC,OAAO;UAAEjB,IAAI,EAAE;YAACE;UAAO;QAAC,CAAC,KAAK;UACpDgB,OAAO,CAACC,GAAG,CAAC,YAAY,GAACF,OAAO,GAACf,OAAO;UACxC,IAAIe,OAAO,EAAE;YACXnB,OAAO,CAAC,OAAO,CAAC;YAChBsB,YAAY,CAACC,OAAO,CAAC,kBAAkB,EAAE,IAAI,CAACjB,IAAI,CAACC,QAAQ;YAC3DiB,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC;UAC9B;QACF,CAAC,CAAC,CAACC,OAAO,CAAC,MAAM;UACf,IAAI,CAACxB,OAAM,GAAI,KAAK;QACtB,CAAC,CAAC;MACJ;IACF;EACF,CAAC;EACDyB,OAAOA,CAAA,EAAG;IACR,IAAIrB,QAAO,GAAIe,YAAY,CAACO,OAAO,CAAC,kBAAkB,CAAC;IACvD,IAAItB,QAAQ,EAAE;MACZ,IAAI,CAACD,IAAI,CAACC,QAAO,GAAIA,QAAQ;IAC/B;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}