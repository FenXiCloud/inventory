{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport { resolveComponent as _resolveComponent, createVNode as _createVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"frame-page\"\n};\nconst _hoisted_2 = {\n  class: \"h-panel mt-10px\"\n};\nconst _hoisted_3 = {\n  class: \"h-panel-body\"\n};\nconst _hoisted_4 = {\n  class: \"table-toolbar\"\n};\nconst _hoisted_5 = {\n  class: \"flex items-center justify-center\"\n};\nconst _hoisted_6 = [\"onClick\"];\nconst _hoisted_7 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_Input = _resolveComponent(\"Input\");\n  const _component_Button = _resolveComponent(\"Button\");\n  const _component_Cell = _resolveComponent(\"Cell\");\n  const _component_Row = _resolveComponent(\"Row\");\n  const _component_vxe_column = _resolveComponent(\"vxe-column\");\n  const _component_Tag = _resolveComponent(\"Tag\");\n  const _component_vxe_table = _resolveComponent(\"vxe-table\");\n  const _component_Pagination = _resolveComponent(\"Pagination\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createVNode(_component_Row, {\n    \"space-x\": 10\n  }, {\n    default: _withCtx(() => [_createVNode(_component_Cell, {\n      width: \"30\",\n      class: \"flex items-center\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_Input, {\n        id: \"name\",\n        modelValue: $data.params.filter,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.params.filter = $event),\n        class: \"flex-1\",\n        placeholder: \"请输入仓库名称\"\n      }, null, 8 /* PROPS */, [\"modelValue\"]), _createVNode(_component_Button, {\n        color: \"primary\",\n        icon: \"fa fa-search\",\n        loading: $data.loading,\n        onClick: $options.doSearch\n      }, {\n        default: _withCtx(() => _cache[3] || (_cache[3] = [_createTextVNode(\"查询\")])),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"loading\", \"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", null, [_createVNode(_component_Button, {\n    onClick: _cache[1] || (_cache[1] = $event => $options.showForm()),\n    color: \"primary\"\n  }, {\n    default: _withCtx(() => _cache[4] || (_cache[4] = [_createTextVNode(\"新 增\")])),\n    _: 1 /* STABLE */\n  })])]), _createVNode(_component_vxe_table, {\n    \"row-id\": \"id\",\n    ref: \"table\",\n    data: $data.dataList,\n    \"show-overflow\": \"\",\n    loading: $data.loading\n  }, {\n    default: _withCtx(() => [_createVNode(_component_vxe_column, {\n      type: \"seq\",\n      width: \"60\",\n      align: \"center\"\n    }), _createVNode(_component_vxe_column, {\n      title: \"仓库编码\",\n      field: \"code\",\n      width: \"200\"\n    }), _createVNode(_component_vxe_column, {\n      title: \"仓库名称\",\n      field: \"name\"\n    }), _createVNode(_component_vxe_column, {\n      title: \"仓库地址\",\n      field: \"address\"\n    }), _createVNode(_component_vxe_column, {\n      title: \"默认\",\n      field: \"isDefault\",\n      width: \"80\"\n    }, {\n      default: _withCtx(({\n        row: {\n          isDefault\n        }\n      }) => [isDefault ? (_openBlock(), _createBlock(_component_Tag, {\n        key: 0,\n        color: \"primary\"\n      }, {\n        default: _withCtx(() => _cache[5] || (_cache[5] = [_createTextVNode(\"是\")])),\n        _: 1 /* STABLE */\n      })) : (_openBlock(), _createBlock(_component_Tag, {\n        key: 1,\n        color: \"yellow\"\n      }, {\n        default: _withCtx(() => _cache[6] || (_cache[6] = [_createTextVNode(\"否\")])),\n        _: 1 /* STABLE */\n      }))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_vxe_column, {\n      title: \"状态\",\n      field: \"enabled\",\n      width: \"80\"\n    }, {\n      default: _withCtx(({\n        row: {\n          enabled\n        }\n      }) => [enabled ? (_openBlock(), _createBlock(_component_Tag, {\n        key: 0,\n        color: \"primary\"\n      }, {\n        default: _withCtx(() => _cache[7] || (_cache[7] = [_createTextVNode(\"启用\")])),\n        _: 1 /* STABLE */\n      })) : (_openBlock(), _createBlock(_component_Tag, {\n        key: 1,\n        color: \"red\"\n      }, {\n        default: _withCtx(() => _cache[8] || (_cache[8] = [_createTextVNode(\"禁用\")])),\n        _: 1 /* STABLE */\n      }))]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_vxe_column, {\n      title: \"操作\",\n      align: \"center\",\n      width: \"130\"\n    }, {\n      default: _withCtx(({\n        row\n      }) => [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"span\", {\n        class: \"primary-color text-hover ml-10px\",\n        onClick: $event => $options.showForm(row),\n        size: \"s\"\n      }, \"编辑\", 8 /* PROPS */, _hoisted_6), _createElementVNode(\"span\", {\n        class: \"primary-color ml-10px text-hover\",\n        onClick: $event => $options.doRemove(row),\n        size: \"s\"\n      }, \"删除\", 8 /* PROPS */, _hoisted_7)])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"data\", \"loading\"]), _createVNode(_component_Pagination, {\n    align: \"right\",\n    class: \"mt-16px\",\n    modelValue: $data.pagination,\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.pagination = $event),\n    onChange: $options.pageChange,\n    small: \"\"\n  }, null, 8 /* PROPS */, [\"modelValue\", \"onChange\"])])])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_Row","default","_withCtx","_component_Cell","width","_component_Input","id","modelValue","$data","params","filter","_cache","$event","placeholder","_component_Button","color","icon","loading","onClick","$options","doSearch","_createTextVNode","_","showForm","_component_vxe_table","ref","data","dataList","_component_vxe_column","type","align","title","field","row","isDefault","_createBlock","_component_Tag","key","enabled","_hoisted_5","size","_hoisted_6","doRemove","_hoisted_7","_component_Pagination","pagination","onChange","pageChange","small"],"sources":["D:\\DevWorks\\jxc\\merchant\\merchant-front\\src\\views\\basic\\WarehouseList.vue"],"sourcesContent":["<template>\r\n  <div class=\"frame-page\" >\r\n    <div class=\"h-panel mt-10px\">\r\n      <div class=\"h-panel-body\">\r\n        <div class=\"table-toolbar\">\r\n          <Row :space-x=\"10\">\r\n            <Cell width=\"30\" class=\"flex items-center\">\r\n              <Input id=\"name\" v-model=\"params.filter\" class=\"flex-1\" placeholder=\"请输入仓库名称\"/>\r\n              <Button color=\"primary\" icon=\"fa fa-search\" :loading=\"loading\" @click=\"doSearch\">查询</Button>\r\n            </Cell>\r\n          </Row>\r\n          <div> <Button @click=\"showForm()\" color=\"primary\">新 增</Button></div>\r\n        </div>\r\n        <vxe-table row-id=\"id\"\r\n                   ref=\"table\"\r\n                   :data=\"dataList\"\r\n                   show-overflow\r\n                   :loading=\"loading\">\r\n          <vxe-column type=\"seq\" width=\"60\" align=\"center\"/>\r\n          <vxe-column title=\"仓库编码\" field=\"code\" width=\"200\"/>\r\n          <vxe-column title=\"仓库名称\" field=\"name\"/>\r\n          <vxe-column title=\"仓库地址\" field=\"address\"/>\r\n          <vxe-column title=\"默认\" field=\"isDefault\" width=\"80\">\r\n            <template #default=\"{row:{isDefault}}\">\r\n              <Tag color=\"primary\" v-if=\"isDefault\">是</Tag>\r\n              <Tag color=\"yellow\" v-else>否</Tag>\r\n            </template>\r\n          </vxe-column>\r\n          <vxe-column title=\"状态\" field=\"enabled\" width=\"80\">\r\n            <template #default=\"{row:{enabled}}\">\r\n              <Tag color=\"primary\" v-if=\"enabled\">启用</Tag>\r\n              <Tag color=\"red\" v-else>禁用</Tag>\r\n            </template>\r\n          </vxe-column>\r\n          <vxe-column title=\"操作\" align=\"center\" width=\"130\">\r\n            <template #default=\"{row}\">\r\n              <div class=\"flex items-center justify-center\">\r\n                <span class=\" primary-color text-hover ml-10px\" @click=\"showForm(row)\" size=\"s\">编辑</span>\r\n                <span class=\"primary-color ml-10px text-hover\" @click=\"doRemove(row)\" size=\"s\">删除</span>\r\n              </div>\r\n            </template>\r\n          </vxe-column>\r\n        </vxe-table>\r\n        <Pagination align=\"right\" class=\"mt-16px\" v-model=\"pagination\" @change=\"pageChange\" small/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {layer} from \"@layui/layer-vue\";\r\nimport {h} from \"vue\";\r\nimport WarehousesForm from \"@components/group/basics/WarehousesForm\";\r\nimport Warehouses from \"@js/api/Warehouses\";\r\nimport {confirm, message} from \"heyui.ext\";\r\n\r\n\r\nexport default {\r\n  name: \"WarehousesList\",\r\n  data() {\r\n    return {\r\n      loading: false,\r\n      params: {\r\n        name: '',\r\n      },\r\n      checkedRows: [],\r\n      dataList: [],\r\n      pagination: {\r\n        page: 1,\r\n        size: 20,\r\n        total: 0\r\n      },\r\n    }\r\n  },\r\n  computed: {\r\n    queryParams() {\r\n      return Object.assign(this.params, {\r\n        page: this.pagination.page,\r\n        pageSize: this.pagination.size\r\n      })\r\n    }\r\n  },\r\n  methods: {\r\n    showForm(warehouse = null) {\r\n      let layerId = layer.open({\r\n        title: \"仓库信息\",\r\n        shadeClose: false,\r\n        closeBtn: false,\r\n        area: ['500px', '450px'],\r\n        content: h(WarehousesForm, {\r\n          warehouse,\r\n          onClose: () => {\r\n            layer.close(layerId);\r\n          },\r\n          onSuccess: () => {\r\n            this.doSearch();\r\n            layer.close(layerId);\r\n          }\r\n        })\r\n      });\r\n    },\r\n    loadList() {\r\n      this.loading = true;\r\n      Warehouses.list(this.queryParams).then(({data}) => {\r\n        this.dataList = data.results;\r\n        this.pagination.total = data.total;\r\n      }).finally(() => this.loading = false);\r\n    },\r\n    pageChange() {\r\n      this.loadList();\r\n    },\r\n    tableCheck() {\r\n      this.checkedRows = this.$refs.table.getCheckboxRecords();\r\n    },\r\n    doSearch() {\r\n      this.pagination.page = 1;\r\n      this.loadList();\r\n    },\r\n    doRemove(row) {\r\n      confirm({\r\n        title: \"系统提示\",\r\n        content: `确认删除：${row.name}?`,\r\n        onConfirm: () => {\r\n          Warehouses.remove(row.id).then(() => {\r\n            message(\"删除成功~\");\r\n            this.doSearch();\r\n          })\r\n        }\r\n      })\r\n    }\r\n  },\r\n  created() {\r\n    this.doSearch();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}