{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\r\n * @功能描述: 桌面\r\n * @创建时间: 2023年08月08日\r\n * @公司官网: www.fenxi365.com\r\n * @公司信息: 纷析云（杭州）科技有限公司\r\n * @公司介绍: 专注于财务相关软件开发, 企业会计自动化解决方案\r\n */\nimport { HomeView } from \"@js/api/App\";\nimport { mapMutations, mapState } from \"vuex\";\nimport manba from \"manba\";\nimport { layer } from \"@layui/layer-vue\";\nimport { h } from \"vue\";\nimport AccountBookForm from \"@views/setting/AccountBookForm.vue\";\nexport default {\n  name: \"DashboardMain\",\n  data() {\n    return {\n      date: manba().format(\"YYYY-MM-dd\"),\n      dateTitle: manba().format(\"YYYY年MM月dd日\")\n    };\n  },\n  computed: {\n    ...mapState(['user', 'accountBooks'])\n  },\n  methods: {\n    ...mapMutations(['newTab']),\n    addOrg() {\n      let layerId = layer.open({\n        title: \"请先添加组织信息\",\n        shadeClose: false,\n        closeBtn: false,\n        area: ['50vw', 'auto'],\n        content: h(AccountBookForm, {\n          onClose: () => {\n            layer.close(layerId);\n          },\n          onSuccess: () => {\n            window.location.replace(\"/\");\n            layer.close(layerId);\n          }\n        })\n      });\n    },\n    homeView() {\n      this.loading = true;\n      Promise.all([HomeView()]).then(results => {\n        // this.inAmount = results[0].data.inAmount;\n      }).finally(() => this.loading = false);\n    },\n    trigger(data) {\n      this.newTab(data.key);\n      this.$router.push({\n        name: data.key\n      });\n    }\n  },\n  created() {\n    if (!this.accountBooks || this.accountBooks === null) {\n      this.addOrg();\n    }\n    this.homeView();\n  }\n};","map":{"version":3,"names":["HomeView","mapMutations","mapState","manba","layer","h","AccountBookForm","name","data","date","format","dateTitle","computed","methods","addOrg","layerId","open","title","shadeClose","closeBtn","area","content","onClose","close","onSuccess","window","location","replace","homeView","loading","Promise","all","then","results","finally","trigger","newTab","key","$router","push","created","accountBooks"],"sources":["D:\\DevWorks\\jxc\\merchant\\merchant-front\\src\\views\\dashboard\\DashboardMain.vue"],"sourcesContent":["<template>\r\n  <div class=\"frame-page flex flex-column !p-0px\" style=\"background: none!important;height: 0px\">\r\n    <div class=\"flex\">\r\n      <div class=\"flex1 flex-column bg-white-color\">\r\n        <div class=\"flex border-bottom p-16px m-10px justify-between\">\r\n          <div class=\"flex  items-center\">\r\n            <span class=\"text-28px mr-9px\">{{ user.admin.name }} </span>\r\n            你好，纷析云进销存管理系统！\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"flex bg-white-color ml-10px\">\r\n        <DatePicker v-model=\"date\" :inline=\"true\"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n/**\r\n * @功能描述: 桌面\r\n * @创建时间: 2023年08月08日\r\n * @公司官网: www.fenxi365.com\r\n * @公司信息: 纷析云（杭州）科技有限公司\r\n * @公司介绍: 专注于财务相关软件开发, 企业会计自动化解决方案\r\n */\r\nimport {HomeView} from \"@js/api/App\";\r\nimport {mapMutations, mapState} from \"vuex\";\r\nimport manba from \"manba\";\r\nimport {layer} from \"@layui/layer-vue\";\r\nimport {h} from \"vue\";\r\nimport AccountBookForm from \"@views/setting/AccountBookForm.vue\";\r\n\r\nexport default {\r\n  name: \"DashboardMain\",\r\n  data() {\r\n    return {\r\n      date: manba().format(\"YYYY-MM-dd\"),\r\n      dateTitle: manba().format(\"YYYY年MM月dd日\"),\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState(['user', 'accountBooks',]),\r\n  },\r\n  methods: {\r\n    ...mapMutations(['newTab']),\r\n    addOrg() {\r\n      let layerId = layer.open({\r\n        title: \"请先添加组织信息\",\r\n        shadeClose: false,\r\n        closeBtn: false,\r\n        area: ['50vw', 'auto'],\r\n        content: h(AccountBookForm, {\r\n          onClose: () => {\r\n            layer.close(layerId);\r\n          },\r\n          onSuccess: () => {\r\n            window.location.replace(\"/\");\r\n            layer.close(layerId);\r\n          }\r\n        })\r\n      });\r\n    },\r\n    homeView() {\r\n      this.loading = true;\r\n      Promise.all([\r\n        HomeView()\r\n      ]).then((results) => {\r\n        // this.inAmount = results[0].data.inAmount;\r\n      }).finally(() => this.loading = false);\r\n    },\r\n    trigger(data) {\r\n      this.newTab(data.key);\r\n      this.$router.push({name: data.key});\r\n    },\r\n  },\r\n  created() {\r\n    if (!this.accountBooks || this.accountBooks === null) {\r\n      this.addOrg()\r\n    }\r\n    this.homeView();\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"less\">\r\n.card-header {\r\n  padding: 16px 16px;\r\n  //padding-top: 0 !important;\r\n  color: #000;\r\n  //border-radius: 3px;\r\n  text-align: center;\r\n  display: flex;\r\n  background-color: @white-color;\r\n}\r\n\r\n.common-card__footer-order {\r\n  cursor: pointer;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  .common-card__footer-title {\r\n    cursor: pointer;\r\n    margin-top: 10px;\r\n  }\r\n}\r\n\r\n.backlog-card__orderreview {\r\n  cursor: pointer;\r\n  display: flex;\r\n  align-items: center;\r\n  flex: 1 1;\r\n  margin-right: 12px;\r\n  height: 72px;\r\n  background: #e9f1da;\r\n  border-radius: 10px;\r\n\r\n  .backlog-card__suffix {\r\n    margin-left: 23px;\r\n\r\n    .backlog-card__suffix-number {\r\n      cursor: pointer;\r\n      font-size: 18px;\r\n      color: #333;\r\n      letter-spacing: 0;\r\n      font-weight: 500;\r\n    }\r\n  }\r\n\r\n  .backlog-card__prefix {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    margin-left: 10px;\r\n    width: 44px;\r\n    height: 44px;\r\n    background: @bg-green-color;\r\n    border-radius: 50%;\r\n  }\r\n}\r\n\r\n.common-card__header {\r\n  display: flex;\r\n}\r\n\r\n.order-list a:not(:last-child) {\r\n  margin-right: 10px;\r\n}\r\n\r\n.order-list a {\r\n  font-size: 0.7rem;\r\n  color: white;\r\n  flex: 1;\r\n  height: 95px;\r\n  margin-bottom: 10px;\r\n\r\n\r\n  .order-item {\r\n    display: flex;\r\n    flex-direction: initial;\r\n    padding: 15px;\r\n    border-radius: 6px;\r\n  }\r\n\r\n  h3 {\r\n    margin: 0;\r\n    padding: 0;\r\n    display: flex;\r\n    flex-direction: initial;\r\n  }\r\n\r\n  .order-item-content {\r\n    width: 100%;\r\n    text-align: left;\r\n    color: #fff;\r\n    font-size: 0.7rem;\r\n  }\r\n}\r\n\r\n\r\n</style>\r\n"],"mappings":";AAoBA;;;;;;;AAOA,SAAQA,QAAQ,QAAO,aAAa;AACpC,SAAQC,YAAY,EAAEC,QAAQ,QAAO,MAAM;AAC3C,OAAOC,KAAI,MAAO,OAAO;AACzB,SAAQC,KAAK,QAAO,kBAAkB;AACtC,SAAQC,CAAC,QAAO,KAAK;AACrB,OAAOC,eAAc,MAAO,oCAAoC;AAEhE,eAAe;EACbC,IAAI,EAAE,eAAe;EACrBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAEN,KAAK,CAAC,CAAC,CAACO,MAAM,CAAC,YAAY,CAAC;MAClCC,SAAS,EAAER,KAAK,CAAC,CAAC,CAACO,MAAM,CAAC,aAAa;IACzC;EACF,CAAC;EACDE,QAAQ,EAAE;IACR,GAAGV,QAAQ,CAAC,CAAC,MAAM,EAAE,cAAc,CAAE;EACvC,CAAC;EACDW,OAAO,EAAE;IACP,GAAGZ,YAAY,CAAC,CAAC,QAAQ,CAAC,CAAC;IAC3Ba,MAAMA,CAAA,EAAG;MACP,IAAIC,OAAM,GAAIX,KAAK,CAACY,IAAI,CAAC;QACvBC,KAAK,EAAE,UAAU;QACjBC,UAAU,EAAE,KAAK;QACjBC,QAAQ,EAAE,KAAK;QACfC,IAAI,EAAE,CAAC,MAAM,EAAE,MAAM,CAAC;QACtBC,OAAO,EAAEhB,CAAC,CAACC,eAAe,EAAE;UAC1BgB,OAAO,EAAEA,CAAA,KAAM;YACblB,KAAK,CAACmB,KAAK,CAACR,OAAO,CAAC;UACtB,CAAC;UACDS,SAAS,EAAEA,CAAA,KAAM;YACfC,MAAM,CAACC,QAAQ,CAACC,OAAO,CAAC,GAAG,CAAC;YAC5BvB,KAAK,CAACmB,KAAK,CAACR,OAAO,CAAC;UACtB;QACF,CAAC;MACH,CAAC,CAAC;IACJ,CAAC;IACDa,QAAQA,CAAA,EAAG;MACT,IAAI,CAACC,OAAM,GAAI,IAAI;MACnBC,OAAO,CAACC,GAAG,CAAC,CACV/B,QAAQ,CAAC,EACV,CAAC,CAACgC,IAAI,CAAEC,OAAO,IAAK;QACnB;MAAA,CACD,CAAC,CAACC,OAAO,CAAC,MAAM,IAAI,CAACL,OAAM,GAAI,KAAK,CAAC;IACxC,CAAC;IACDM,OAAOA,CAAC3B,IAAI,EAAE;MACZ,IAAI,CAAC4B,MAAM,CAAC5B,IAAI,CAAC6B,GAAG,CAAC;MACrB,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;QAAChC,IAAI,EAAEC,IAAI,CAAC6B;MAAG,CAAC,CAAC;IACrC;EACF,CAAC;EACDG,OAAOA,CAAA,EAAG;IACR,IAAI,CAAC,IAAI,CAACC,YAAW,IAAK,IAAI,CAACA,YAAW,KAAM,IAAI,EAAE;MACpD,IAAI,CAAC3B,MAAM,CAAC;IACd;IACA,IAAI,CAACc,QAAQ,CAAC,CAAC;EACjB;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}