import l from"../plugins/tooltip.js";import{u as s}from"../utils.js";import{nextTick as p}from"vue";import"../plugins/pop.js";import"../plugins/popper.js";const r=function(t,n){let e={},o=n.props||{};return o.content===""||(o.content&&(e.content=o.content),o.className&&(e.className=o.className),o.maxWidth&&(e.maxWidth=o.maxWidth),!n.el.querySelector)?!1:(e.content?(e.content=`<div class="h-tooltip-inner-content">${e.content}</div>`,e.html=!0):t.innerText&&(e.content=`<div class="h-tooltip-inner-content">${t.innerText}</div>`,e.html=!0),e)},i=function(t,n,e){if(n.value===!1)return;let o=r(t,e);if(o==!1)return;let a=e.props||{};o.container=document.body,o=s.initParam(o,a,["placement","theme","delay","trigger"]),t.tooltip=new l(t,o)},h={mounted(t,n,e){i(t,n,e)},beforeUpdate(t,n,e){t.tooltip?p(()=>{if(n.value===!1){t.tooltip.destory(),t.tooltip=null;return}let o=r(t,e);o==!1?t.tooltip.destory():t.tooltip.updateTemplate(o.content,o.html)}):i(t,n,e)},beforeUnmount(t){t.tooltip&&(t.tooltip.destory(),delete t.tooltip)}};export{h as default};
