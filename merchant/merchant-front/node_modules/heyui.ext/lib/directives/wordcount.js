import{u as a}from"../utils.js";import i from"../locale.js";import"../locale/lang/zh-CN.js";import"../locale/lang/en-US.js";import"../utils/format.js";const l=function(e,t,o){let n=t.value.length,r=e-n;r>=0?(o.innerText=n,a.removeClass(o,"red-color")):(o.innerText=i.hlang("h.wordcount.warn",[Math.abs(r)]),a.addClass(o,"red-color"))},h={mounted(e,t){if(a.isNumber(t.value)){let o=t.value,n=document.createElement("p");n.innerHTML=`<span><span class='h-wordcount-remain-size'></span> / <span class='h-wordcount-total-size'>${o}</span></span>`,a.addClass(n,"h-wordcount");let r=e.parentNode;r.insertBefore(n,e);let s=r.querySelector(".h-wordcount-remain-size");e.remainDom=s,l(o,e,s),e.addEventListener("input",()=>{l(o,e,s)})}},beforeUnmount(e){let t=e.previousSibling;t&&a.hasClass(t,"h-wordcount")&&t.parentNode.removeChild(t)}};export{h as default};
